entities:
- name: rdbms_table
  namespace: laplacian.arch.api.service.graphql
  supertype_name: graphql_type

  properties:
  - name: data_model_name
    type: string
    optional: true
    default_value: |
      name

  - name: table_name
    type: string
    optional: true
    default_value: |
      name.lowerUnderscorize()

  - name: datasource_name
    type: string
    optional: true
    default_value: |
      "default"

  relationships:
  - name: data_model
    cardinality: '1'
    reference_entity_name: entity
    reference_entity_namespace: laplacian.metamodel
    mappings:
    - from: data_model_name
      to: name

  - name: mybatis_mapper_entries
    cardinality: '*'
    reference_entity_name: mybatis_mapper_entry
    reference_entity_namespace: laplacian.arch.api.service.rdb.mybatis
    aggregate: true

  - name: mybatis_mappers
    cardinality: '*'
    reference_entity_name: mybatis_mapper
    reference_entity_namespace: laplacian.arch.api.service.rdb.mybatis
    snippet: |
      mybatisMapperEntries.map{ it.mapper }
